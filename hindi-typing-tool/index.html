<!DOCTYPE html>
<html lang="hi">
<head>
  <meta charset="UTF-8">
  <title>Hindi Typing Tool ‚Äì Type English to Hindi | UtilityNest</title>

  <meta name="description" content="Free Hindi Typing Tool to type Hindi using English keyboard. Accurate phonetic typing with correct Hindi words. Fast, secure and real-time.">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <base href="/Home/">

  <!-- GLOBAL CSS -->
  <link rel="stylesheet" href="css/style.css">

  <style>
    textarea{
      width:100%;
      min-height:180px;
      padding:14px;
      font-size:17px;
      border:2px solid #d1d5db;
      border-radius:10px;
      resize:vertical;
    }
    textarea:focus{
      outline:none;
      border-color:#16a34a;
      box-shadow:0 0 0 2px #bbf7d0;
    }
    .hint{
      font-size:14px;
      color:#6b7280;
      margin-top:6px;
    }
    .actions{
      display:flex;
      gap:10px;
      margin-top:15px;
      flex-wrap:wrap;
    }
    .actions button{
      flex:1;
    }

    /* Draggable suggestion box */
    #letterSuggestions{
      position:absolute;
      top:260px;
      left:40px;
      width:260px;
      background:#ffffff;
      border:1px solid #d1d5db;
      border-radius:6px;
      box-shadow:0 8px 20px rgba(0,0,0,0.08);
      display:none;
      z-index:1000;
      max-height:260px;
      overflow-y:auto;
      font-size:15px;
    }
    #letterSuggestionsHeader{
      padding:6px 10px;
      cursor:move;
      background:#1d4ed8;
      color:#ffffff;
      font-size:13px;
      border-radius:6px 6px 0 0;
      user-select:none;
    }
    .letter-suggestion-item{
      padding:6px 10px;
      cursor:pointer;
      display:flex;
      justify-content:space-between;
      gap:10px;
    }
    .letter-suggestion-item span.roman{
      color:#6b7280;
      font-size:13px;
    }
    .letter-suggestion-item:hover,
    .letter-suggestion-item.active{
      background:#e5f3ff;
    }
  </style>
</head>

<body>

<!-- HEADER -->
<header>
  <a href="">UtilityNest</a>
  <nav>
    <a href="government-tools/">Government</a>
    <a href="finance-calculators/">Finance</a>
    <a href="student-tools/">Student</a>
    <a href="utility-tools/">Utility</a>
    <a href="hindi-tools/">Hindi</a>
  </nav>
</header>

<!-- BREADCRUMB -->
<nav class="breadcrumb">
  <a href="">Home</a> ‚Ä∫
  <a href="hindi-tools/">Hindi Tools</a> ‚Ä∫
  Hindi Typing Tool
</nav>

<!-- MAIN -->
<section class="section">

  <h1>Hindi Typing Tool</h1>
  <p>
    ‡§á‡§∏ Hindi Typing Tool ‡§ï‡•Ä ‡§Æ‡§¶‡§¶ ‡§∏‡•á ‡§Ü‡§™
    <strong>English keyboard</strong> ‡§∏‡•á
    <strong>‡§∏‡§π‡•Ä ‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§∂‡§¨‡•ç‡§¶</strong> ‡§ü‡§æ‡§á‡§™ ‡§ï‡§∞ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç‡•§
    ‡§ú‡•à‡§∏‡•á ‡§π‡•Ä ‡§Ü‡§™ ‡§ü‡§æ‡§á‡§™ ‡§ï‡§∞‡•á‡§Ç‡§ó‡•á, ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü ‡§Ö‡§™‡§®‡•á-‡§Ü‡§™
    ‡§∏‡§π‡•Ä ‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§Æ‡•á‡§Ç ‡§¨‡§¶‡§≤ ‡§ú‡§æ‡§è‡§ó‡§æ‡•§
  </p>

  <!-- INPUT -->
  <div class="card gradient-card">
    <h2>Type in English</h2>

    <textarea
      id="englishInput"
      placeholder="Type here (e.g. mera bharat mahan hai)"
      oninput="handleInput(event)"
      onkeydown="handleLetterSuggestionKeys(event)"></textarea>

    <p class="hint">
      Example: <strong>mera bharat mahan hai</strong> ‚Üí ‡§Æ‡•á‡§∞‡§æ ‡§≠‡§æ‡§∞‡§§ ‡§Æ‡§π‡§æ‡§® ‡§π‡•à‡•§
    </p>
  </div>

  <!-- OUTPUT -->
  <div class="card">
    <h2>Hindi Output</h2>

    <textarea
      id="hindiOutput"
      placeholder="‡§Ø‡§π‡§æ‡§Å ‡§∏‡§π‡•Ä ‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§ü‡•á‡§ï‡•ç‡§∏‡•ç‡§ü ‡§¶‡§ø‡§ñ‡§æ‡§à ‡§¶‡•á‡§ó‡§æ..."
      readonly></textarea>

    <div class="actions">
      <button class="btn-outline" onclick="copyHindi()">üìã Copy Hindi Text</button>
      <button class="btn-outline" onclick="clearText()">üßπ Clear</button>
    </div>
  </div>

  <!-- SEO CONTENT -->
  <div class="card">
    <h2>About Hindi Typing Tool</h2>
    <p>
      ‡§Ø‡§π ‡§ü‡•Ç‡§≤ ‡§õ‡§æ‡§§‡•ç‡§∞‡•ã‡§Ç, ‡§™‡•ç‡§∞‡§§‡§ø‡§Ø‡•ã‡§ó‡•Ä ‡§™‡§∞‡•Ä‡§ï‡•ç‡§∑‡§æ‡§ì‡§Ç,
      ‡§¨‡•ç‡§≤‡•â‡§ó‡§∞‡•ç‡§∏ ‡§î‡§∞ ‡§π‡§ø‡§Ç‡§¶‡•Ä ‡§ï‡§Ç‡§ü‡•á‡§Ç‡§ü ‡§ï‡•ç‡§∞‡§ø‡§è‡§ü‡§∞‡•ç‡§∏ ‡§ï‡•á ‡§≤‡§ø‡§è
      ‡§¨‡•á‡§π‡§¶ ‡§â‡§™‡§Ø‡•ã‡§ó‡•Ä ‡§π‡•à‡•§ ‡§Ø‡§π ‡§ü‡•Ç‡§≤ ‡§™‡•Ç‡§∞‡•Ä ‡§§‡§∞‡§π
      ‡§¨‡•ç‡§∞‡§æ‡§â‡§ú‡§º‡§∞ ‡§Æ‡•á‡§Ç ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à ‡§î‡§∞ ‡§Ü‡§™‡§ï‡§æ
      ‡§°‡•á‡§ü‡§æ ‡§ï‡§π‡•Ä‡§Ç ‡§∏‡•á‡§µ ‡§®‡§π‡•Ä‡§Ç ‡§ï‡§∞‡§§‡§æ‡•§
    </p>
  </div>

</section>

<!-- FOOTER -->
<footer>
  <div class="footer-grid">
    <div>
      <h3>Hindi Tools</h3>
      <a href="hindi-tools/hindi-word-counter/">Hindi Word Counter</a>
      <a href="hindi-tools/hindi-character-counter/">Hindi Character Counter</a>
      <a href="hindi-tools/hindi-typing-tool/">Hindi Typing Tool</a>
    </div>

    <div>
      <h3>Popular Tools</h3>
      <a href="age-calculator/">Age Calculator</a>
      <a href="emi-calculator/">EMI Calculator</a>
    </div>
  </div>

  <p class="copy">¬© 2025 UtilityNest</p>
</footer>

<!-- DRAGGABLE LETTER SUGGESTIONS BOX -->
<div id="letterSuggestions">
  <div id="letterSuggestionsHeader">Drag suggestions</div>
  <div id="letterSuggestionsBody"></div>
</div>

<!-- SCRIPT -->
<script>
// ---------- FULL MAP + VOWELS ----------
const FULL_MAP = {
  "ka":"‡§ï","kaa":"‡§ï‡§æ","ki":"‡§ï‡§ø","kee":"‡§ï‡•Ä","ku":"‡§ï‡•Å","koo":"‡§ï‡•Ç","ke":"‡§ï‡•á",
  "kai":"‡§ï‡•à","ko":"‡§ï‡•ã","kau":"‡§ï‡•å","kam":"‡§ï‡§Ç","kah":"‡§ï‡§É",

  "kha":"‡§ñ","khaa":"‡§ñ‡§æ","khi":"‡§ñ‡§ø","khee":"‡§ñ‡•Ä","khu":"‡§ñ‡•Å","khoo":"‡§ñ‡•Ç",
  "khe":"‡§ñ‡•á","khai":"‡§ñ‡•à","kho":"‡§ñ‡•ã","khau":"‡§ñ‡•å","kham":"‡§ñ‡§Ç","khah":"‡§ñ‡§É",

  "ga":"‡§ó","gaa":"‡§ó‡§æ","gi":"‡§ó‡§ø","gee":"‡§ó‡•Ä","gu":"‡§ó‡•Å","goo":"‡§ó‡•Ç",
  "ge":"‡§ó‡•á","gai":"‡§ó‡•à","go":"‡§ó‡•ã","gau":"‡§ó‡•å","gam":"‡§ó‡§Ç","gah":"‡§ó‡§É",

  "gha":"‡§ò","ghaa":"‡§ò‡§æ","ghi":"‡§ò‡§ø","ghee":"‡§ò‡•Ä","ghu":"‡§ò‡•Å","ghoo":"‡§ò‡•Ç",
  "ghe":"‡§ò‡•á","ghai":"‡§ò‡•à","gho":"‡§ò‡•ã","ghau":"‡§ò‡•å","gham":"‡§ò‡§Ç","ghah":"‡§ò‡§É",

  "cha":"‡§ö","chaa":"‡§ö‡§æ","chi":"‡§ö‡§ø","chee":"‡§ö‡•Ä","chu":"‡§ö‡•Å","choo":"‡§ö‡•Ç",
  "che":"‡§ö‡•á","chai":"‡§ö‡•à","cho":"‡§ö‡•ã","chau":"‡§ö‡•å","cham":"‡§ö‡§Ç","chah":"‡§ö‡§É",

  "chha":"‡§õ","chhaa":"‡§õ‡§æ","chhi":"‡§õ‡§ø","chhee":"‡§õ‡•Ä","chhu":"‡§õ‡•Å","chhoo":"‡§õ‡•Ç",
  "chhe":"‡§õ‡•á","chhai":"‡§õ‡•à","chho":"‡§õ‡•ã","chhou":"‡§õ‡•å","chham":"‡§õ‡§Ç","chhah":"‡§õ‡§É",

  "ja":"‡§ú","jaa":"‡§ú‡§æ","ji":"‡§ú‡§ø","jee":"‡§ú‡•Ä","ju":"‡§ú‡•Å","joo":"‡§ú‡•Ç",
  "je":"‡§ú‡•á","jai":"‡§ú‡•à","jo":"‡§ú‡•ã","jau":"‡§ú‡•å","jam":"‡§ú‡§Ç","jah":"‡§ú‡§É",

  "jha":"‡§ù","jhaa":"‡§ù‡§æ","jhi":"‡§ù‡§ø","jhee":"‡§ù‡•Ä","jhu":"‡§ù‡•Å","jhoo":"‡§ù‡•Ç",
  "jhe":"‡§ù‡•á","jhai":"‡§ù‡•à","jho":"‡§ù‡•ã","jhau":"‡§ù‡•å","jham":"‡§ù‡§Ç","jhah":"‡§ù‡§É",

  "tra":"‡§§‡•ç‡§∞","traa":"‡§§‡•ç‡§∞‡§æ","tri":"‡§§‡•ç‡§∞‡§ø","tree":"‡§§‡•ç‡§∞‡•Ä","tru":"‡§§‡•ç‡§∞‡•Å","troo":"‡§§‡•ç‡§∞‡•Ç",
  "tre":"‡§§‡•ç‡§∞‡•á","trai":"‡§§‡•ç‡§∞‡•à","tro":"‡§§‡•ç‡§∞‡•ã","trau":"‡§û‡•å","tram":"‡§û‡§Ç","trah":"‡§û‡§É",

  "ta":"‡§ü","taa":"‡§ü‡§æ","ti":"‡§ü‡§ø","tee":"‡§ü‡•Ä","tu":"‡§ü‡•Å","too":"‡§ü‡•Ç",
  "te":"‡§ü‡•á","tai":"‡§ü‡•à","to":"‡§ü‡•ã","tau":"‡§ü‡•å","tam":"‡§ü‡§Ç","tah":"‡§ü‡§É",

  "tha":"‡§†","thaa":"‡§†‡§æ","thi":"‡§†‡§ø","thee":"‡§†‡•Ä","thu":"‡§†‡•Å","thoo":"‡§†‡•Ç",
  "the":"‡§†‡•á","thai":"‡§†‡•à","tho":"‡§†‡•ã","thau":"‡§†‡•å","tham":"‡§†‡§Ç","thah":"‡§†‡§É",

  "da":"‡§°","daa":"‡§°‡§æ","di":"‡§°‡§ø","dee":"‡§°‡•Ä","du":"‡§°‡•Å","doo":"‡§°‡•Ç",
  "de":"‡§°‡•á","dai":"‡§°‡•à","do":"‡§°‡•ã","dau":"‡§°‡•å","dam":"‡§°‡§Ç","dah":"‡§°‡§É",

  "dha":"‡§¢","dhaa":"‡§¢‡§æ","dhi":"‡§¢‡§ø","dhee":"‡§¢‡•Ä","dhu":"‡§¢‡•Å","dhoo":"‡§¢‡•Ç",
  "dhe":"‡§¢‡•á","dhai":"‡§¢‡•à","dhao":"‡§¢‡•ã","dhau":"‡§¢‡•å","dham":"‡§¢‡§Ç","dhah":"‡§¢‡§É",

  "na":"‡§£","naa":"‡§£‡§æ","ni":"‡§£‡§ø","nee":"‡§£‡•Ä","nu":"‡§£‡•Å","noo":"‡§£‡•Ç",
  "ne":"‡§£‡•á","nai":"‡§£‡•à","no":"‡§£‡•ã","nau":"‡§£‡•å","nam":"‡§£‡§Ç","nah":"‡§£‡§É",

  "t":"‡§§","taa2":"‡§§‡§æ","ti2":"‡§§‡§ø","tee2":"‡§§‡•Ä","tu2":"‡§§‡•Å","too2":"‡§§‡•Ç",
  "te2":"‡§§‡•á","tai2":"‡§§‡•à","to2":"‡§§‡•ã","tau2":"‡§§‡•å","tam2":"‡§§‡§Ç","tah2":"‡§§‡§É",

  "tha2":"‡§•","thaa2":"‡§•‡§æ","thi2":"‡§•‡§ø","thee2":"‡§•‡•Ä","thu2":"‡§•‡•Å","thoo2":"‡§•‡•Ç",
  "the2":"‡§•‡•á","thai2":"‡§•‡•à","tho2":"‡§•‡•ã","thau2":"‡§•‡•å","tham2":"‡§•‡§Ç","thah2":"‡§•‡§É",

  "d":"‡§¶","daa2":"‡§¶‡§æ","di2":"‡§¶‡§ø","dee2":"‡§¶‡•Ä","du2":"‡§¶‡•Å","doo2":"‡§¶‡•Ç",
  "de2":"‡§¶‡•á","dai2":"‡§¶‡•à","do2":"‡§¶‡•ã","dau2":"‡§¶‡•å","dam2":"‡§¶‡§Ç","dah2":"‡§¶‡§É",

  "Dha":"‡§ß","dhaa2":"‡§ß‡§æ","dhi2":"‡§ß‡§ø","dhee2":"‡§ß‡•Ä","dhu2":"‡§ß‡•Å","dhoo2":"‡§ß‡•Ç",
  "dhe2":"‡§ß‡•á","dhai2":"‡§ß‡•à","dho2":"‡§ß‡•ã","dhau2":"‡§ß‡•å","dham2":"‡§ß‡§Ç","dhah2":"‡§ß‡§É",

  "na2":"‡§®","naa2":"‡§®‡§æ","ni2":"‡§®‡§ø","nee2":"‡§®‡•Ä","nu2":"‡§®‡•Å","noo2":"‡§®‡•Ç",
  "ne2":"‡§®‡•á","nai2":"‡§®‡•à","no2":"‡§®‡•ã","nau2":"‡§®‡•å","nam2":"‡§®‡§Ç","nah2":"‡§®‡§É",

  "pa":"‡§™","paa":"‡§™‡§æ","pi":"‡§™‡§ø","pee":"‡§™‡•Ä","pu":"‡§™‡•Å","poo":"‡§™‡•Ç",
  "pe":"‡§™‡•á","pai":"‡§™‡•à","po":"‡§™‡•ã","pau":"‡§™‡•å","pam":"‡§™‡§Ç","pah":"‡§™‡§É",

  "pha":"‡§´","phaa":"‡§´‡§æ","phi":"‡§´‡§ø","phee":"‡§´‡•Ä","phu":"‡§´‡•Å","phoo":"‡§´‡•Ç",
  "phe":"‡§´‡•á","pahi":"‡§´‡•à","pho":"‡§´‡•ã","phau":"‡§´‡•å","pham":"‡§´‡§Ç","phah":"‡§´‡§É",

  "ba":"‡§¨","baa":"‡§¨‡§æ","bi":"‡§¨‡§ø","bee":"‡§¨‡•Ä","bu":"‡§¨‡•Å","boo":"‡§¨‡•Ç",
  "be":"‡§¨‡•á","bai":"‡§¨‡•à","bo":"‡§¨‡•ã","bau":"‡§¨‡•å","bam":"‡§¨‡§Ç","bah":"‡§¨‡§É",

  "bha":"‡§≠","bhaa":"‡§≠‡§æ","bhi":"‡§≠‡§ø","bhee":"‡§≠‡•Ä","bhu":"‡§≠‡•Å","bhoo":"‡§≠‡•Ç",
  "bhe":"‡§≠‡•á","bhai":"‡§≠‡•à","bho":"‡§≠‡•ã","bhau":"‡§≠‡•å","bham":"‡§≠‡§Ç","bhah":"‡§≠‡§É",

  "ma":"‡§Æ","maa":"‡§Æ‡§æ","mi":"‡§Æ‡§ø","mee":"‡§Æ‡•Ä","mu":"‡§Æ‡•Å","moo":"‡§Æ‡•Ç",
  "me":"‡§Æ‡•á","mai":"‡§Æ‡•à","mo":"‡§Æ‡•ã","mau":"‡§Æ‡•å","mam":"‡§Æ‡§Ç","mah":"‡§Æ‡§É",

  "ya":"‡§Ø","yaa":"‡§Ø‡§æ","yi":"‡§Ø‡§ø","yee":"‡§Ø‡•Ä","yu":"‡§Ø‡•Å","yoo":"‡§Ø‡•Ç",
  "ye":"‡§Ø‡•á","yai":"‡§Ø‡•à","yo":"‡§Ø‡•ã","yau":"‡§Ø‡•å","yam":"‡§Ø‡§Ç","yah":"‡§Ø‡§É",

  "ra":"‡§∞","raa":"‡§∞‡§æ","ri":"‡§∞‡§ø","ree":"‡§∞‡•Ä","ru":"‡§∞‡•Å","roo":"‡§∞‡•Ç",
  "re":"‡§∞‡•á","rai":"‡§∞‡•à","ro":"‡§∞‡•ã","rau":"‡§∞‡•å","ram":"‡§∞‡§Ç","rah":"‡§∞‡§É",

  "la":"‡§≤","laa":"‡§≤‡§æ","li":"‡§≤‡§ø","lee":"‡§≤‡•Ä","lu":"‡§≤‡•Å","loo":"‡§≤‡•Ç",
  "le":"‡§≤‡•á","lai":"‡§≤‡•à","lo":"‡§≤‡•ã","lau":"‡§≤‡•å","lam":"‡§≤‡§Ç","lah":"‡§≤‡§É",

  "va":"‡§µ","vaa":"‡§µ‡§æ","vi":"‡§µ‡§ø","vee":"‡§µ‡•Ä","vu":"‡§µ‡•Å","voo":"‡§µ‡•Ç",
  "ve":"‡§µ‡•á","vai":"‡§µ‡•à","vo":"‡§µ‡•ã","vau":"‡§µ‡•å","vam":"‡§µ‡§Ç","vah":"‡§µ‡§É",

  "sha":"‡§∂","shaa":"‡§∂‡§æ","shi":"‡§∂‡§ø","shee":"‡§∂‡•Ä","shu":"‡§∂‡•Å","shoo":"‡§∂‡•Ç",
  "she":"‡§∂‡•á","shai":"‡§∂‡•à","sho":"‡§∂‡•ã","shau":"‡§∂‡•å","sham":"‡§∂‡§Ç","shah":"‡§∂‡§É",

  "sa":"‡§∏","saa":"‡§∏‡§æ","si":"‡§∏‡§ø","see":"‡§∏‡•Ä","su":"‡§∏‡•Å","soo":"‡§∏‡•Ç",
  "se":"‡§∏‡•á","sai":"‡§∏‡•à","so":"‡§∏‡•ã","sau":"‡§∏‡•å","sam":"‡§∏‡§Ç","sah":"‡§∏‡§É",

  "ha":"‡§π","haa":"‡§π‡§æ","hi":"‡§π‡§ø","hee":"‡§π‡•Ä","hu":"‡§π‡•Å","hoo":"‡§π‡•Ç",
  "he":"‡§π‡•á","hai":"‡§π‡•à","ho":"‡§π‡•ã","hau":"‡§π‡•å","ham":"‡§π‡§Ç","hah":"‡§π‡§É",

  "lla":"‡§≥","llaa":"‡§≥‡§æ","lli":"‡§≥‡§ø","llee":"‡§≥‡•Ä","llu":"‡§≥‡•Å","lloo":"‡§≥‡•Ç",
  "lle":"‡§≥‡•á","llai":"‡§≥‡•à","llo":"‡§≥‡•ã","llou":"‡§≥‡•å","llam":"‡§≥‡§Ç","llah":"‡§≥‡§É",

  "ksha":"‡§ï‡•ç‡§∑","kshaa":"‡§ï‡•ç‡§∑‡§æ","kshi":"‡§ï‡•ç‡§∑‡§ø","kshee":"‡§ï‡•ç‡§∑‡•Ä","kshu":"‡§ï‡•ç‡§∑‡•Å","kshoo":"‡§ï‡•ç‡§∑‡•Ç",
  "kshe":"‡§ï‡•ç‡§∑‡•á","kshai":"‡§ï‡•ç‡§∑‡•à","ksho":"‡§ï‡•ç‡§∑‡•ã","kshau":"‡§ï‡•ç‡§∑‡•å","ksham":"‡§ï‡•ç‡§∑‡§Ç","kshah":"‡§ï‡•ç‡§∑‡§É",

  "dnya":"‡§ú‡•ç‡§û","dnyaa":"‡§ú‡•ç‡§û‡§æ","Dnyi":"‡§ú‡•ç‡§û‡§ø","Dnyee":"‡§ú‡•ç‡§û‡•Ä","dnyu":"‡§ú‡•ç‡§û‡•Å","dnyoo":"‡§ú‡•ç‡§û‡•Ç",
  "dnye":"‡§ú‡•ç‡§û‡•á","dnyai":"‡§ú‡•ç‡§û‡•à","dnyo":"‡§ú‡•ç‡§û‡•ã","dnyau":"‡§ú‡•ç‡§û‡•å","dnyam":"‡§ú‡•ç‡§û‡§Ç","dnyah":"‡§ú‡•ç‡§û‡§É"
};

const STANDALONE_VOWELS = {
  "a":"‡§Ö","aa":"‡§Ü","i":"‡§á","ee":"‡§à","u":"‡§â","oo":"‡§ä",
  "e":"‡§è","ai":"‡§ê","o":"‡§ì","au":"‡§î"
};

// ----- LETTER SUGGESTIONS (same as previous answer) -----
const LETTER_SUGGESTIONS = {
  "k":[
    {dev:"‡§ï", roman:"ka"},
    {dev:"‡§ï‡•ç", roman:"k (halant)"},
    {dev:"‡§ï‡§Ç", roman:"kam (anusvara)"},
    {dev:"‡§ï‡§Å", roman:"kaÃÉ (chandrabindu)"},
    {dev:"‡§ï‡§É", roman:"kah (visarga)"}
  ],
  "g":[
    {dev:"‡§ó", roman:"ga"},
    {dev:"‡§ó‡•ç", roman:"g (halant)"},
    {dev:"‡§ó‡§Ç", roman:"gam (anusvara)"},
    {dev:"‡§ó‡§Å", roman:"gaÃÉ (chandrabindu)"},
    {dev:"‡§ó‡§É", roman:"gah (visarga)"}
  ],
  "c":[
    {dev:"‡§ö", roman:"ca/cha"},
    {dev:"‡§ö‡•ç", roman:"c (halant)"},
    {dev:"‡§ö‡§Ç", roman:"cam (anusvara)"},
    {dev:"‡§ö‡§Å", roman:"caÃÉ (chandrabindu)"},
    {dev:"‡§ö‡§É", roman:"cah (visarga)"}
  ],
  "j":[
    {dev:"‡§ú", roman:"ja"},
    {dev:"‡§ú‡•ç", roman:"j (halant)"},
    {dev:"‡§ú‡§Ç", roman:"jam (anusvara)"},
    {dev:"‡§ú‡§Å", roman:"jaÃÉ (chandrabindu)"},
    {dev:"‡§ú‡§É", roman:"jah (visarga)"}
  ],
  "t":[
    {dev:"‡§§", roman:"ta (dental)"},
    {dev:"‡§ü", roman:"Ta (retroflex)"},
    {dev:"‡§§‡•ç", roman:"t (halant)"},
    {dev:"‡§ü‡•ç", roman:"T (halant)"},
    {dev:"‡§§‡§Ç", roman:"tam (anusvara)"},
    {dev:"‡§§‡§Å", roman:"taÃÉ (chandrabindu)"},
    {dev:"‡§§‡§É", roman:"tah (visarga)"}
  ],
  "d":[
    {dev:"‡§¶", roman:"da (dental)"},
    {dev:"‡§°", roman:"Da (retroflex)"},
    {dev:"‡§¶‡•ç", roman:"d (halant)"},
    {dev:"‡§°‡•ç", roman:"D (halant)"},
    {dev:"‡§¶‡§Ç", roman:"dam (anusvara)"},
    {dev:"‡§¶‡§Å", roman:"daÃÉ (chandrabindu)"},
    {dev:"‡§¶‡§É", roman:"dah (visarga)"}
  ],
  "n":[
    {dev:"‡§®", roman:"na (dental)"},
    {dev:"‡§£", roman:"Na (retroflex)"},
    {dev:"‡§®‡•ç", roman:"n (halant)"},
    {dev:"‡§£‡•ç", roman:"N (halant)"},
    {dev:"‡§Ç", roman:"anusvara"},
    {dev:"‡§Å", roman:"chandrabindu"},
    {dev:"‡§®‡§Ç", roman:"nam (anusvara)"},
    {dev:"‡§®‡§É", roman:"nah (visarga)"},
    {dev:"n", roman:"keep n as roman"}
  ],
  "p":[
    {dev:"‡§™", roman:"pa"},
    {dev:"‡§™‡•ç", roman:"p (halant)"},
    {dev:"‡§™‡§Ç", roman:"pam (anusvara)"},
    {dev:"‡§™‡§Å", roman:"paÃÉ (chandrabindu)"},
    {dev:"‡§™‡§É", roman:"pah (visarga)"}
  ],
  "b":[
    {dev:"‡§¨", roman:"ba"},
    {dev:"‡§≠", roman:"bha"},
    {dev:"‡§¨‡•ç", roman:"b (halant)"},
    {dev:"‡§≠‡•ç", roman:"bh (halant)"},
    {dev:"‡§¨‡§Ç", roman:"bam (anusvara)"},
    {dev:"‡§¨‡§Å", roman:"baÃÉ (chandrabindu)"},
    {dev:"‡§¨‡§É", roman:"bah (visarga)"}
  ],
  "m":[
    {dev:"‡§Æ", roman:"ma"},
    {dev:"‡§Æ‡•ç", roman:"m (halant)"},
    {dev:"‡§Ç", roman:"anusvara"},
    {dev:"‡§Å", roman:"chandrabindu"},
    {dev:"‡§Æ‡§Ç", roman:"mam (anusvara)"},
    {dev:"‡§Æ‡§É", roman:"mah (visarga)"}
  ],
  "y":[
    {dev:"‡§Ø", roman:"ya"},
    {dev:"‡§Ø‡•ç", roman:"y (halant)"},
    {dev:"‡§Ø‡§Ç", roman:"yam (anusvara)"},
    {dev:"‡§Ø‡§Å", roman:"yaÃÉ (chandrabindu)"},
    {dev:"‡§Ø‡§É", roman:"yah (visarga)"}
  ],
  "r":[
    {dev:"‡§∞", roman:"ra"},
    {dev:"‡§∞‡•ç", roman:"r (halant)"},
    {dev:"‡§∞‡§Ç", roman:"ram (anusvara)"},
    {dev:"‡§∞‡§Å", roman:"raÃÉ (chandrabindu)"},
    {dev:"‡§∞‡§É", roman:"rah (visarga)"}
  ],
  "l":[
    {dev:"‡§≤", roman:"la"},
    {dev:"‡§≥", roman:"·∏∑a"},
    {dev:"‡§≤‡•ç", roman:"l (halant)"},
    {dev:"‡§≥‡•ç", roman:"·∏∑ (halant)"},
    {dev:"‡§≤‡§Ç", roman:"lam (anusvara)"},
    {dev:"‡§≤‡§Å", roman:"laÃÉ (chandrabindu)"},
    {dev:"‡§≤‡§É", roman:"lah (visarga)"}
  ],
  "v":[
    {dev:"‡§µ", roman:"va/wa"},
    {dev:"‡§µ‡•ç", roman:"v (halant)"},
    {dev:"‡§µ‡§Ç", roman:"vam (anusvara)"},
    {dev:"‡§µ‡§Å", roman:"vaÃÉ (chandrabindu)"},
    {dev:"‡§µ‡§É", roman:"vah (visarga)"}
  ],
  "s":[
    {dev:"‡§∏", roman:"sa"},
    {dev:"‡§∂", roman:"sha"},
    {dev:"‡§∑", roman:"Sha"},
    {dev:"‡§∏‡•ç", roman:"s (halant)"},
    {dev:"‡§∏‡§Ç", roman:"sam (anusvara)"},
    {dev:"‡§∏‡§Å", roman:"saÃÉ (chandrabindu)"},
    {dev:"‡§∏‡§É", roman:"sah (visarga)"}
  ],
  "h":[
    {dev:"‡§π", roman:"ha"},
    {dev:"‡§É", roman:"visarga"},
    {dev:"‡§π‡•ç", roman:"h (halant)"},
    {dev:"‡§π‡§Ç", roman:"ham (anusvara)"},
    {dev:"‡§π‡§Å", roman:"haÃÉ (chandrabindu)"}
  ],
  "x":[
    {dev:"‡§Ç", roman:"anusvara"},
    {dev:"‡§Å", roman:"chandrabindu"},
    {dev:"‡§É", roman:"visarga"}
  ],
  "a":[
    {dev:"‡§Ö", roman:"a"},
    {dev:"‡§Ü", roman:"aa"},
    {dev:"‡§æ", roman:"aa matra"},
    {dev:"‡•Ö", roman:"short a (optional)"}
  ],
  "i":[
    {dev:"‡§á", roman:"i"},
    {dev:"‡§à", roman:"ii"},
    {dev:"‡§ø", roman:"i matra"},
    {dev:"‡•Ä", roman:"ii matra"}
  ],
  "u":[
    {dev:"‡§â", roman:"u"},
    {dev:"‡§ä", roman:"uu"},
    {dev:"‡•Å", roman:"u matra"},
    {dev:"‡•Ç", roman:"uu matra"}
  ],
  "e":[
    {dev:"‡§è", roman:"e"},
    {dev:"‡§ê", roman:"ai"},
    {dev:"‡•á", roman:"e matra"},
    {dev:"‡•à", roman:"ai matra"}
  ],
  "o":[
    {dev:"‡§ì", roman:"o"},
    {dev:"‡§î", roman:"au"},
    {dev:"‡•ã", roman:"o matra"},
    {dev:"‡•å", roman:"au matra"}
  ]
};

// ----- TRANSLITERATION -----
function matchToken(str, i){
  let maxLen = Math.min(5, str.length - i);
  for(let len = maxLen; len > 0; len--){
    const sub = str.substr(i, len);
    if(FULL_MAP[sub]) return { token: sub, val: FULL_MAP[sub], len };
    if(STANDALONE_VOWELS[sub]) return { token: sub, val: STANDALONE_VOWELS[sub], len };
  }
  return null;
}

function transliterateWord(word){
  let out = "";
  let i = 0;
  while(i < word.length){
    const m = matchToken(word, i);
    if(m){
      out += m.val;
      i += m.len;
    }else{
      out += word[i];
      i++;
    }
  }
  return out;
}

function convertToHindi(){
  const input = document.getElementById("englishInput").value.toLowerCase();
  const parts = input.split(/(\s+)/);
  let result = "";

  parts.forEach(part => {
    if(part.trim() === ""){
      result += part;
    }else{
      result += transliterateWord(part);
    }
  });

  document.getElementById("hindiOutput").value = result;
}

// ----- LETTER SUGGESTION LOGIC -----
let letterSuggestionsList = [];
let letterActiveIndex = -1;

function getCurrentCharInfo(textarea){
  const pos = textarea.selectionStart;
  const value = textarea.value;
  const char = pos > 0 ? value[pos - 1] : "";
  return {char, pos};
}

function handleInput(e){
  convertToHindi();
  showLetterSuggestions(e);
}

function showLetterSuggestions(e){
  const ta = e.target;
  const info = getCurrentCharInfo(ta);
  const ch = info.char.toLowerCase();
  const box = document.getElementById("letterSuggestions");
  const body = document.getElementById("letterSuggestionsBody");

  body.innerHTML = "";
  box.style.display = "none";
  letterSuggestionsList = [];
  letterActiveIndex = -1;

  if(!ch || !LETTER_SUGGESTIONS[ch]) return;

  const options = LETTER_SUGGESTIONS[ch];
  options.forEach(opt => {
    const div = document.createElement("div");
    div.className = "letter-suggestion-item";

    const devSpan = document.createElement("span");
    devSpan.textContent = opt.dev;

    const romanSpan = document.createElement("span");
    romanSpan.className = "roman";
    romanSpan.textContent = opt.roman;

    div.appendChild(devSpan);
    div.appendChild(romanSpan);

    div.addEventListener("mousedown", function(ev){
      ev.preventDefault();
      applyLetterSuggestion(opt.dev, ch);
    });

    body.appendChild(div);
  });

  letterSuggestionsList = options;
  box.style.display = "block";
}

// IMPORTANT: change only Hindi output, keep English input as typed
function applyLetterSuggestion(devChar, romanChar){
  const ta = document.getElementById("englishInput");
  const pos = ta.selectionStart;
  const out = document.getElementById("hindiOutput");
  const currentHindi = out.value;

  // replace at same cursor index in Hindi output
  const beforeHindi = currentHindi.substring(0, pos - 1);
  const afterHindi  = currentHindi.substring(pos);

  out.value = beforeHindi + devChar + afterHindi;

  // keep caret position in english input
  ta.selectionStart = ta.selectionEnd = pos;

  document.getElementById("letterSuggestions").style.display = "none";
}

function handleLetterSuggestionKeys(e){
  const box = document.getElementById("letterSuggestions");
  if(box.style.display === "none") return;

  const items = box.querySelectorAll(".letter-suggestion-item");
  if(items.length === 0) return;

  if(e.key === "ArrowDown"){
    e.preventDefault();
    letterActiveIndex = (letterActiveIndex + 1) % items.length;
  }else if(e.key === "ArrowUp"){
    e.preventDefault();
    letterActiveIndex = (letterActiveIndex - 1 + items.length) % items.length;
  }else if(e.key === "Enter"){
    if(letterActiveIndex >= 0){
      e.preventDefault();
      const chosen = letterSuggestionsList[letterActiveIndex];
      const lastChar = getCurrentCharInfo(document.getElementById("englishInput")).char.toLowerCase();
      applyLetterSuggestion(chosen.dev, lastChar);
      return;
    }
  }else if(e.key === "Escape"){
    box.style.display = "none";
    return;
  }else{
    return;
  }

  items.forEach(el => el.classList.remove("active"));
  if(letterActiveIndex >= 0) items[letterActiveIndex].classList.add("active");
}

// ----- DRAGGABLE BOX (W3Schools style) -----
dragElement(document.getElementById("letterSuggestions")); // [web:66]

function dragElement(elmnt){
  let pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
  const header = document.getElementById(elmnt.id + "Header");

  if(header){
    header.onmousedown = dragMouseDown;
  }else{
    elmnt.onmousedown = dragMouseDown;
  }

  function dragMouseDown(e){
    e = e || window.event;
    e.preventDefault();
    pos3 = e.clientX;
    pos4 = e.clientY;
    document.onmouseup = closeDragElement;
    document.onmousemove = elementDrag;
  }

  function elementDrag(e){
    e = e || window.event;
    e.preventDefault();
    pos1 = pos3 - e.clientX;
    pos2 = pos4 - e.clientY;
    pos3 = e.clientX;
    pos4 = e.clientY;
    elmnt.style.top  = (elmnt.offsetTop  - pos2) + "px";
    elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
  }

  function closeDragElement(){
    document.onmouseup = null;
    document.onmousemove = null;
  }
}

// ----- COPY & CLEAR -----
function copyHindi(){
  const out = document.getElementById("hindiOutput");
  out.select();
  document.execCommand("copy");
  alert("Hindi text copied!");
}

function clearText(){
  document.getElementById("englishInput").value = "";
  document.getElementById("hindiOutput").value = "";
  document.getElementById("letterSuggestions").style.display = "none";
}
</script>

</body>
</html>
